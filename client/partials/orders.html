<div ng-controller='customersController' style='width: 80%;margin-top:30px;margin-left:30px;'>
	<div ng-controller='productsController'>
	<div ng-controller='ordersController'>
		<h3><u>Add a new order!</u></h3>
		<form>
			<p>Customer 
				<select ng-model='newOrder.customer_name'>
					<option ng-repeat='customer in customers' value='{{customer.name}}' ng-bind='customer.name'></option>
				</select>
			</p>
			<p>Order
				<select ng-model='newOrder.quantity'>
					<option value='1'>1</option>
					<option value='2'>2</option>
					<option value='3'>3</option>
					<option value='4'>4</option>
					<option value='5'>5</option>
					<option value='6'>6</option>
					<option value='7'>7</option>
					<option value='8'>8</option>
				</select>
				<select ng-model='newOrder.product'>
					<option ng-repeat='product in products' value='{{product.name}}'>{{product.name}}({{product.quantity}} left)</option>
				</select>
			</p>
			<input type='submit' value='Order' ng-click='addOrder()' />
		</form>
		<p style='color:red;' ng-bind="message"></p>
		<br>
		<input type='text' ng-model='filter_name' placeholder='search name...' class='pull-right' />
		<table class='table table-striped'>
			<tr>
				<th>Customer Name</th>
				<th>Product</th>
				<th>Quantity</th>
				<th>Date</th>
			</tr>
			<tr ng-repeat="order in orders | filter: filter_name | orderBy:'date'">
				<td ng-bind='order.customer_name'></td>
				<td ng-bind='order.product'></td>
				<td ng-bind='order.quantity'></td>
				<td ng-bind="order.created_at | date:'longDate'"></td>
			</tr>
		</table>	
	</div>
	</div>
</div>